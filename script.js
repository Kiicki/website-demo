// Language translations
const translations = {
    no: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Arbeidslogging og Dokumenthåndtering",
        home: "Hjem",
        logout: "Logg ut",
        logoutConfirm: "Er du sikker på at du vil logge ut?",
        loggingOut: "Logger ut...",
        alreadyHome: "Du er allerede på hjemmesiden!",
        navigating: "Navigerer til:",
        willImplement: "Denne siden vil bli implementert med funksjonalitet for å håndtere",
        footer: "Utviklet for effektiv arbeidslogging",
        menuItems: {
            create: {
                title: "Skriv arbeidsliste",
                desc: "Opprett nye arbeidslister og registrer arbeidsoppgaver for prosjekter"
            },
            view: {
                title: "Se arbeidslister", 
                desc: "Vis og administrer eksisterende arbeidslister og oppgaver"
            },
            drawings: {
                title: "Tegninger",
                desc: "Tilgang til tekniske tegninger og prosjektdokumentasjon"
            },
            instructions: {
                title: "Montasjeanvisninger",
                desc: "Detaljerte instruksjoner for montering og installasjon"
            },
            safety: {
                title: "Sikkerhertsblad",
                desc: "Sikkerhetsdatablad og HMS-informasjon for materialer"
            },
            time: {
                title: "Timeregistering",
                desc: "Registrer arbeidstimer og prosjektaktiviteter"
            },
            checklists: {
                title: "Checklists",
                desc: "Sjekklister for kvalitetskontroll og oppfølging"
            },
            sja: {
                title: "SJA",
                desc: "Sikker Jobb Analyse - risikovurdering og sikkerhetstiltak"
            },
            ruh: {
                title: "RUH",
                desc: "Rapportering av Uønskede Hendelser"
            }
        }
    },
    en: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Work Logging and Document Management",
        home: "Home",
        logout: "Logout",
        logoutConfirm: "Are you sure you want to log out?",
        loggingOut: "Logging out...",
        alreadyHome: "You are already on the homepage!",
        navigating: "Navigating to:",
        willImplement: "This page will be implemented with functionality to handle",
        footer: "Developed for efficient work logging",
        menuItems: {
            create: {
                title: "Create Work List",
                desc: "Create new work lists and register work tasks for projects"
            },
            view: {
                title: "View Work Lists",
                desc: "View and manage existing work lists and tasks"
            },
            drawings: {
                title: "Drawings",
                desc: "Access to technical drawings and project documentation"
            },
            instructions: {
                title: "Assembly Instructions",
                desc: "Detailed instructions for assembly and installation"
            },
            safety: {
                title: "Safety Data Sheets",
                desc: "Safety data sheets and HSE information for materials"
            },
            time: {
                title: "Time Registration",
                desc: "Register work hours and project activities"
            },
            checklists: {
                title: "Checklists",
                desc: "Quality control and follow-up checklists"
            },
            sja: {
                title: "JSA",
                desc: "Job Safety Analysis - risk assessment and safety measures"
            },
            ruh: {
                title: "Incident Reports",
                desc: "Reporting of Unwanted Events"
            }
        }
    },
    hr: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Evidencija Rada i Upravljanje Dokumentimi",
        home: "Početna",
        logout: "Odjava",
        logoutConfirm: "Jeste li sigurni da se želite odjaviti?",
        loggingOut: "Odjavljivanje...",
        alreadyHome: "Već ste na početnoj stranici!",
        navigating: "Navigiranje na:",
        willImplement: "Ova stranica će biti implementirana s funkcionalnostima za rukovanje",
        footer: "Razvijeno za efikasnu evidenciju rada",
        menuItems: {
            create: {
                title: "Stvori Popis Radova",
                desc: "Stvori nove popise radova i registriraj radne zadatke za projekte"
            },
            view: {
                title: "Prikaži Popise Radova",
                desc: "Prikaži i upravljaj postojećim popisima radova i zadacima"
            },
            drawings: {
                title: "Crteži",
                desc: "Pristup tehničkim crtežima i projektnoj dokumentaciji"
            },
            instructions: {
                title: "Upute za Montažu",
                desc: "Detaljne upute za montažu i instalaciju"
            },
            safety: {
                title: "Sigurnosni Listovi",
                desc: "Sigurnosni listovi i HSE informacije za materijale"
            },
            time: {
                title: "Evidencija Vremena",
                desc: "Registriraj radne sate i projektne aktivnosti"
            },
            checklists: {
                title: "Kontrolne Liste",
                desc: "Kontrolne liste za kvalitetu i praćenje"
            },
            sja: {
                title: "SJA",
                desc: "Sigurna Analiza Posla - procjena rizika i sigurnosne mjere"
            },
            ruh: {
                title: "Izvještaji o Incidentima",
                desc: "Prijavljivanje Neželjenih Događaja"
            }
        }
    },
    pl: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Rejestracja Pracy i Zarządzanie Dokumentami",
        home: "Strona główna",
        logout: "Wyloguj",
        logoutConfirm: "Czy na pewno chcesz się wylogować?",
        loggingOut: "Wylogowywanie...",
        alreadyHome: "Jesteś już na stronie głównej!",
        navigating: "Przechodzenie do:",
        willImplement: "Ta strona zostanie zaimplementowana z funkcjami do obsługi",
        footer: "Opracowane dla efektywnej rejestracji pracy",
        menuItems: {
            create: {
                title: "Utwórz Listę Prac",
                desc: "Twórz nowe listy prac i rejestruj zadania robocze dla projektów"
            },
            view: {
                title: "Zobacz Listy Prac",
                desc: "Przeglądaj i zarządzaj istniejącymi listami prac i zadaniami"
            },
            drawings: {
                title: "Rysunki",
                desc: "Dostęp do rysunków technicznych i dokumentacji projektowej"
            },
            instructions: {
                title: "Instrukcje Montażu",
                desc: "Szczegółowe instrukcje montażu i instalacji"
            },
            safety: {
                title: "Karty Charakterystyki",
                desc: "Karty charakterystyki i informacje BHP dla materiałów"
            },
            time: {
                title: "Rejestracja Czasu",
                desc: "Rejestruj godziny pracy i działania projektowe"
            },
            checklists: {
                title: "Listy Kontrolne",
                desc: "Listy kontrolne jakości i monitorowania"
            },
            sja: {
                title: "SJA",
                desc: "Analiza Bezpiecznej Pracy - ocena ryzyka i środki bezpieczeństwa"
            },
            ruh: {
                title: "Raporty Incydentów",
                desc: "Zgłaszanie Niepożądanych Zdarzeń"
            }
        }
    },
    ro: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Înregistrarea Muncii și Gestionarea Documentelor",
        home: "Acasă",
        logout: "Deconectare",
        logoutConfirm: "Ești sigur că vrei să te deconectezi?",
        loggingOut: "Se deconectează...",
        alreadyHome: "Ești deja pe pagina principală!",
        navigating: "Navigând către:",
        willImplement: "Această pagină va fi implementată cu funcționalități pentru gestionarea",
        footer: "Dezvoltat pentru înregistrarea eficientă a muncii",
        menuItems: {
            create: {
                title: "Creează Lista de Lucrări",
                desc: "Creează liste noi de lucrări și înregistrează sarcini de lucru pentru proiecte"
            },
            view: {
                title: "Vezi Listele de Lucrări",
                desc: "Vizualizează și gestionează listele existente de lucrări și sarcini"
            },
            drawings: {
                title: "Desene",
                desc: "Acces la desene tehnice și documentația proiectului"
            },
            instructions: {
                title: "Instrucțiuni de Asamblare",
                desc: "Instrucțiuni detaliate pentru asamblare și instalare"
            },
            safety: {
                title: "Fișe de Siguranță",
                desc: "Fișe de date de siguranță și informații SSM pentru materiale"
            },
            time: {
                title: "Înregistrarea Timpului",
                desc: "Înregistrează orele de lucru și activitățile proiectului"
            },
            checklists: {
                title: "Liste de Verificare",
                desc: "Liste de verificare pentru controlul calității și monitorizare"
            },
            sja: {
                title: "SJA",
                desc: "Analiza Siguranței Locului de Muncă - evaluarea riscurilor și măsurile de siguranță"
            },
            ruh: {
                title: "Rapoarte de Incidente",
                desc: "Raportarea Evenimentelor Nedorite"
            }
        }
    },
    lt: {
        title: "Damsgård Brannsikring AS",
        subtitle: "Darbo Registravimas ir Dokumentų Valdymas",
        home: "Pradžia",
        logout: "Atsijungti",
        logoutConfirm: "Ar tikrai norite atsijungti?",
        loggingOut: "Atsijungiama...",
        alreadyHome: "Jūs jau esate pagrindiniame puslapyje!",
        navigating: "Pereinama į:",
        willImplement: "Šis puslapis bus įgyvendintas su funkcijomis",
        footer: "Sukurta efektyviam darbo registravimui",
        menuItems: {
            create: {
                title: "Sukurti Darbų Sąrašą",
                desc: "Kurkite naujus darbų sąrašus ir registruokite darbo užduotis projektams"
            },
            view: {
                title: "Peržiūrėti Darbų Sąrašus",
                desc: "Peržiūrėkite ir valdykite esamus darbų sąrašus ir užduotis"
            },
            drawings: {
                title: "Brėžiniai",
                desc: "Prieiga prie techninių brėžinių ir projekto dokumentacijos"
            },
            instructions: {
                title: "Montavimo Instrukcijos",
                desc: "Išsamios montavimo ir įrengimo instrukcijos"
            },
            safety: {
                title: "Saugos Duomenų Lapai",
                desc: "Saugos duomenų lapai ir BPS informacija medžiagoms"
            },
            time: {
                title: "Laiko Registravimas",
                desc: "Registruokite darbo valandas ir projekto veiklas"
            },
            checklists: {
                title: "Kontrolės Sąrašai",
                desc: "Kokybės kontrolės ir stebėjimo kontrolės sąrašai"
            },
            sja: {
                title: "SJA",
                desc: "Saugaus Darbo Analizė - rizikos vertinimas ir saugumo priemonės"
            },
            ruh: {
                title: "Incidentų Ataskaitos",
                desc: "Nepageidaujamų Įvykių Pranešimas"
            }
        }
    }
};

let currentLanguage = 'no';

function changeLanguage(lang) {
    currentLanguage = lang;
    const t = translations[lang];
    
    // Update header
    document.querySelector('.header h1').textContent = `🔥 ${t.title}`;
    document.querySelector('.header p').textContent = t.subtitle;
    
    // Update home button
    document.querySelector('.home-text').textContent = t.home;
    
    // Update logout button
    document.querySelector('.logout-btn').textContent = t.logout;
    
    // Update menu items
    const menuItems = document.querySelectorAll('.menu-item');
    const menuKeys = ['create', 'view', 'drawings', 'instructions', 'safety', 'time', 'checklists', 'sja', 'ruh'];
    
    menuItems.forEach((item, index) => {
        const key = menuKeys[index];
        item.querySelector('.menu-title').textContent = t.menuItems[key].title;
        item.querySelector('.menu-description').textContent = t.menuItems[key].desc;
    });
    
    // Update footer
    document.querySelector('.footer p').innerHTML = `&copy; 2025 Damsgård Brannsikring AS | ${t.footer}`;
}

function logout() {
    const t = translations[currentLanguage];
    if (confirm(t.logoutConfirm)) {
        alert(t.loggingOut);
        // Here you would redirect to login page
        // window.location.href = '/login';
    }
}

function goHome() {
    const t = translations[currentLanguage];
    alert(t.alreadyHome);
    // If on a different page, this would navigate back to home
    // window.location.href = '/';
}

function navigateTo(section) {
    const t = translations[currentLanguage];
    
    // Debug logging
    console.log('navigateTo called with section:', section);
    
    // Handle navigation to specific pages
    if (section === 'create-worklist') {
        console.log('Navigating to skriv-arbeidsliste.html');
        try {
            window.location.href = 'skriv-arbeidsliste.html';
        } catch (error) {
            console.error('Navigation error:', error);
            alert('Navigation error: ' + error.message);
        }
        return;
    }
    
    // Simulate navigation with visual feedback for other sections
    if (typeof event !== 'undefined' && event && event.currentTarget) {
        const clickedItem = event.currentTarget;
        clickedItem.style.transform = 'scale(0.95)';
        
        setTimeout(() => {
            clickedItem.style.transform = '';
            const sectionTitle = clickedItem.querySelector('.menu-title')?.textContent?.toLowerCase() || section;
            alert(`${t.navigating} ${section}\n\n${t.willImplement} ${sectionTitle}.`);
        }, 150);
    } else {
        // Fallback for when there's no event (like console calls)
        alert(`${t.navigating} ${section}\n\n${t.willImplement} ${section}.`);
    }
}

// Add some interactive elements
document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu-item');
    
    menuItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.filter = 'brightness(1.1)';
        });
        
        item.addEventListener('mouseleave', function() {
            this.style.filter = 'brightness(1)';
        });
        
        // Add backup click handler for create-worklist
        if (item.classList.contains('create')) {
            item.addEventListener('click', function(e) {
                console.log('Backup click handler triggered for create-worklist');
                e.preventDefault();
                navigateTo('create-worklist');
            });
        }
    });
});
