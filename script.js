// Language translations
const translations = {
    no: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "Arbeidslogging og DokumenthÃ¥ndtering",
        home: "Hjem",
        logout: "Logg ut",
        logoutConfirm: "Er du sikker pÃ¥ at du vil logge ut?",
        loggingOut: "Logger ut...",
        alreadyHome: "Du er allerede pÃ¥ hjemmesiden!",
        navigating: "Navigerer til:",
        willImplement: "Denne siden vil bli implementert med funksjonalitet for Ã¥ hÃ¥ndtere",
        footer: "Utviklet for effektiv arbeidslogging",
        menuItems: {
            create: {
                title: "Skriv arbeidsliste",
                desc: "Opprett nye arbeidslister og registrer arbeidsoppgaver for prosjekter"
            },
            view: {
                title: "Se arbeidslister", 
                desc: "Vis og administrer eksisterende arbeidslister og oppgaver"
            },
            drawings: {
                title: "Tegninger",
                desc: "Tilgang til tekniske tegninger og prosjektdokumentasjon"
            },
            instructions: {
                title: "Montasjeanvisninger",
                desc: "Detaljerte instruksjoner for montering og installasjon"
            },
            safety: {
                title: "Sikkerhertsblad",
                desc: "Sikkerhetsdatablad og HMS-informasjon for materialer"
            },
            time: {
                title: "Timeregistering",
                desc: "Registrer arbeidstimer og prosjektaktiviteter"
            },
            checklists: {
                title: "Checklists",
                desc: "Sjekklister for kvalitetskontroll og oppfÃ¸lging"
            },
            sja: {
                title: "SJA",
                desc: "Sikker Jobb Analyse - risikovurdering og sikkerhetstiltak"
            },
            ruh: {
                title: "RUH",
                desc: "Rapportering av UÃ¸nskede Hendelser"
            }
        }
    },
    en: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "Work Logging and Document Management",
        home: "Home",
        logout: "Logout",
        logoutConfirm: "Are you sure you want to log out?",
        loggingOut: "Logging out...",
        alreadyHome: "You are already on the homepage!",
        navigating: "Navigating to:",
        willImplement: "This page will be implemented with functionality to handle",
        footer: "Developed for efficient work logging",
        menuItems: {
            create: {
                title: "Create Work List",
                desc: "Create new work lists and register work tasks for projects"
            },
            view: {
                title: "View Work Lists",
                desc: "View and manage existing work lists and tasks"
            },
            drawings: {
                title: "Drawings",
                desc: "Access to technical drawings and project documentation"
            },
            instructions: {
                title: "Assembly Instructions",
                desc: "Detailed instructions for assembly and installation"
            },
            safety: {
                title: "Safety Data Sheets",
                desc: "Safety data sheets and HSE information for materials"
            },
            time: {
                title: "Time Registration",
                desc: "Register work hours and project activities"
            },
            checklists: {
                title: "Checklists",
                desc: "Quality control and follow-up checklists"
            },
            sja: {
                title: "JSA",
                desc: "Job Safety Analysis - risk assessment and safety measures"
            },
            ruh: {
                title: "Incident Reports",
                desc: "Reporting of Unwanted Events"
            }
        }
    },
    hr: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "Evidencija Rada i Upravljanje Dokumentimi",
        home: "PoÄetna",
        logout: "Odjava",
        logoutConfirm: "Jeste li sigurni da se Å¾elite odjaviti?",
        loggingOut: "Odjavljivanje...",
        alreadyHome: "VeÄ‡ ste na poÄetnoj stranici!",
        navigating: "Navigiranje na:",
        willImplement: "Ova stranica Ä‡e biti implementirana s funkcionalnostima za rukovanje",
        footer: "Razvijeno za efikasnu evidenciju rada",
        menuItems: {
            create: {
                title: "Stvori Popis Radova",
                desc: "Stvori nove popise radova i registriraj radne zadatke za projekte"
            },
            view: {
                title: "PrikaÅ¾i Popise Radova",
                desc: "PrikaÅ¾i i upravljaj postojeÄ‡im popisima radova i zadacima"
            },
            drawings: {
                title: "CrteÅ¾i",
                desc: "Pristup tehniÄkim crteÅ¾ima i projektnoj dokumentaciji"
            },
            instructions: {
                title: "Upute za MontaÅ¾u",
                desc: "Detaljne upute za montaÅ¾u i instalaciju"
            },
            safety: {
                title: "Sigurnosni Listovi",
                desc: "Sigurnosni listovi i HSE informacije za materijale"
            },
            time: {
                title: "Evidencija Vremena",
                desc: "Registriraj radne sate i projektne aktivnosti"
            },
            checklists: {
                title: "Kontrolne Liste",
                desc: "Kontrolne liste za kvalitetu i praÄ‡enje"
            },
            sja: {
                title: "SJA",
                desc: "Sigurna Analiza Posla - procjena rizika i sigurnosne mjere"
            },
            ruh: {
                title: "IzvjeÅ¡taji o Incidentima",
                desc: "Prijavljivanje NeÅ¾eljenih DogaÄ‘aja"
            }
        }
    },
    pl: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "Rejestracja Pracy i ZarzÄ…dzanie Dokumentami",
        home: "Strona gÅ‚Ã³wna",
        logout: "Wyloguj",
        logoutConfirm: "Czy na pewno chcesz siÄ™ wylogowaÄ‡?",
        loggingOut: "Wylogowywanie...",
        alreadyHome: "JesteÅ› juÅ¼ na stronie gÅ‚Ã³wnej!",
        navigating: "Przechodzenie do:",
        willImplement: "Ta strona zostanie zaimplementowana z funkcjami do obsÅ‚ugi",
        footer: "Opracowane dla efektywnej rejestracji pracy",
        menuItems: {
            create: {
                title: "UtwÃ³rz ListÄ™ Prac",
                desc: "TwÃ³rz nowe listy prac i rejestruj zadania robocze dla projektÃ³w"
            },
            view: {
                title: "Zobacz Listy Prac",
                desc: "PrzeglÄ…daj i zarzÄ…dzaj istniejÄ…cymi listami prac i zadaniami"
            },
            drawings: {
                title: "Rysunki",
                desc: "DostÄ™p do rysunkÃ³w technicznych i dokumentacji projektowej"
            },
            instructions: {
                title: "Instrukcje MontaÅ¼u",
                desc: "SzczegÃ³Å‚owe instrukcje montaÅ¼u i instalacji"
            },
            safety: {
                title: "Karty Charakterystyki",
                desc: "Karty charakterystyki i informacje BHP dla materiaÅ‚Ã³w"
            },
            time: {
                title: "Rejestracja Czasu",
                desc: "Rejestruj godziny pracy i dziaÅ‚ania projektowe"
            },
            checklists: {
                title: "Listy Kontrolne",
                desc: "Listy kontrolne jakoÅ›ci i monitorowania"
            },
            sja: {
                title: "SJA",
                desc: "Analiza Bezpiecznej Pracy - ocena ryzyka i Å›rodki bezpieczeÅ„stwa"
            },
            ruh: {
                title: "Raporty IncydentÃ³w",
                desc: "ZgÅ‚aszanie NiepoÅ¼Ä…danych ZdarzeÅ„"
            }
        }
    },
    ro: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "ÃŽnregistrarea Muncii È™i Gestionarea Documentelor",
        home: "AcasÄƒ",
        logout: "Deconectare",
        logoutConfirm: "EÈ™ti sigur cÄƒ vrei sÄƒ te deconectezi?",
        loggingOut: "Se deconecteazÄƒ...",
        alreadyHome: "EÈ™ti deja pe pagina principalÄƒ!",
        navigating: "NavigÃ¢nd cÄƒtre:",
        willImplement: "AceastÄƒ paginÄƒ va fi implementatÄƒ cu funcÈ›ionalitÄƒÈ›i pentru gestionarea",
        footer: "Dezvoltat pentru Ã®nregistrarea eficientÄƒ a muncii",
        menuItems: {
            create: {
                title: "CreeazÄƒ Lista de LucrÄƒri",
                desc: "CreeazÄƒ liste noi de lucrÄƒri È™i Ã®nregistreazÄƒ sarcini de lucru pentru proiecte"
            },
            view: {
                title: "Vezi Listele de LucrÄƒri",
                desc: "VizualizeazÄƒ È™i gestioneazÄƒ listele existente de lucrÄƒri È™i sarcini"
            },
            drawings: {
                title: "Desene",
                desc: "Acces la desene tehnice È™i documentaÈ›ia proiectului"
            },
            instructions: {
                title: "InstrucÈ›iuni de Asamblare",
                desc: "InstrucÈ›iuni detaliate pentru asamblare È™i instalare"
            },
            safety: {
                title: "FiÈ™e de SiguranÈ›Äƒ",
                desc: "FiÈ™e de date de siguranÈ›Äƒ È™i informaÈ›ii SSM pentru materiale"
            },
            time: {
                title: "ÃŽnregistrarea Timpului",
                desc: "ÃŽnregistreazÄƒ orele de lucru È™i activitÄƒÈ›ile proiectului"
            },
            checklists: {
                title: "Liste de Verificare",
                desc: "Liste de verificare pentru controlul calitÄƒÈ›ii È™i monitorizare"
            },
            sja: {
                title: "SJA",
                desc: "Analiza SiguranÈ›ei Locului de MuncÄƒ - evaluarea riscurilor È™i mÄƒsurile de siguranÈ›Äƒ"
            },
            ruh: {
                title: "Rapoarte de Incidente",
                desc: "Raportarea Evenimentelor Nedorite"
            }
        }
    },
    lt: {
        title: "DamsgÃ¥rd Brannsikring AS",
        subtitle: "Darbo Registravimas ir DokumentÅ³ Valdymas",
        home: "PradÅ¾ia",
        logout: "Atsijungti",
        logoutConfirm: "Ar tikrai norite atsijungti?",
        loggingOut: "Atsijungiama...",
        alreadyHome: "JÅ«s jau esate pagrindiniame puslapyje!",
        navigating: "Pereinama Ä¯:",
        willImplement: "Å is puslapis bus Ä¯gyvendintas su funkcijomis",
        footer: "Sukurta efektyviam darbo registravimui",
        menuItems: {
            create: {
                title: "Sukurti DarbÅ³ SÄ…raÅ¡Ä…",
                desc: "Kurkite naujus darbÅ³ sÄ…raÅ¡us ir registruokite darbo uÅ¾duotis projektams"
            },
            view: {
                title: "PerÅ¾iÅ«rÄ—ti DarbÅ³ SÄ…raÅ¡us",
                desc: "PerÅ¾iÅ«rÄ—kite ir valdykite esamus darbÅ³ sÄ…raÅ¡us ir uÅ¾duotis"
            },
            drawings: {
                title: "BrÄ—Å¾iniai",
                desc: "Prieiga prie techniniÅ³ brÄ—Å¾iniÅ³ ir projekto dokumentacijos"
            },
            instructions: {
                title: "Montavimo Instrukcijos",
                desc: "IÅ¡samios montavimo ir Ä¯rengimo instrukcijos"
            },
            safety: {
                title: "Saugos DuomenÅ³ Lapai",
                desc: "Saugos duomenÅ³ lapai ir BPS informacija medÅ¾iagoms"
            },
            time: {
                title: "Laiko Registravimas",
                desc: "Registruokite darbo valandas ir projekto veiklas"
            },
            checklists: {
                title: "KontrolÄ—s SÄ…raÅ¡ai",
                desc: "KokybÄ—s kontrolÄ—s ir stebÄ—jimo kontrolÄ—s sÄ…raÅ¡ai"
            },
            sja: {
                title: "SJA",
                desc: "Saugaus Darbo AnalizÄ— - rizikos vertinimas ir saugumo priemonÄ—s"
            },
            ruh: {
                title: "IncidentÅ³ Ataskaitos",
                desc: "NepageidaujamÅ³ Ä®vykiÅ³ PraneÅ¡imas"
            }
        }
    }
};

let currentLanguage = 'no';

function changeLanguage(lang) {
    currentLanguage = lang;
    const t = translations[lang];
    
    // Update header
    document.querySelector('.header h1').textContent = `ðŸ”¥ ${t.title}`;
    document.querySelector('.header p').textContent = t.subtitle;
    
    // Update home button
    document.querySelector('.home-text').textContent = t.home;
    
    // Update logout button
    document.querySelector('.logout-btn').textContent = t.logout;
    
    // Update menu items
    const menuItems = document.querySelectorAll('.menu-item');
    const menuKeys = ['create', 'view', 'drawings', 'instructions', 'safety', 'time', 'checklists', 'sja', 'ruh'];
    
    menuItems.forEach((item, index) => {
        const key = menuKeys[index];
        item.querySelector('.menu-title').textContent = t.menuItems[key].title;
        item.querySelector('.menu-description').textContent = t.menuItems[key].desc;
    });
    
    // Update footer
    document.querySelector('.footer p').innerHTML = `&copy; 2025 DamsgÃ¥rd Brannsikring AS | ${t.footer}`;
}

function logout() {
    const t = translations[currentLanguage];
    if (confirm(t.logoutConfirm)) {
        alert(t.loggingOut);
        // Here you would redirect to login page
        // window.location.href = '/login';
    }
}

function goHome() {
    const t = translations[currentLanguage];
    alert(t.alreadyHome);
    // If on a different page, this would navigate back to home
    // window.location.href = '/';
}

function navigateTo(section) {
    const t = translations[currentLanguage];
    
    // Debug logging
    console.log('navigateTo called with section:', section);
    
    // Handle navigation to specific pages
    if (section === 'create-worklist') {
        console.log('Navigating to skriv-arbeidsliste.html');
        try {
            window.location.href = 'skriv-arbeidsliste.html';
        } catch (error) {
            console.error('Navigation error:', error);
            alert('Navigation error: ' + error.message);
        }
        return;
    }
    
    // Simulate navigation with visual feedback for other sections
    if (typeof event !== 'undefined' && event && event.currentTarget) {
        const clickedItem = event.currentTarget;
        clickedItem.style.transform = 'scale(0.95)';
        
        setTimeout(() => {
            clickedItem.style.transform = '';
            const sectionTitle = clickedItem.querySelector('.menu-title')?.textContent?.toLowerCase() || section;
            alert(`${t.navigating} ${section}\n\n${t.willImplement} ${sectionTitle}.`);
        }, 150);
    } else {
        // Fallback for when there's no event (like console calls)
        alert(`${t.navigating} ${section}\n\n${t.willImplement} ${section}.`);
    }
}

// Add some interactive elements
document.addEventListener('DOMContentLoaded', function() {
    const menuItems = document.querySelectorAll('.menu-item');
    
    menuItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            this.style.filter = 'brightness(1.1)';
        });
        
        item.addEventListener('mouseleave', function() {
            this.style.filter = 'brightness(1)';
        });
        
        // Add backup click handler for create-worklist
        if (item.classList.contains('create')) {
            item.addEventListener('click', function(e) {
                console.log('Backup click handler triggered for create-worklist');
                e.preventDefault();
                navigateTo('create-worklist');
            });
        }
    });
});
